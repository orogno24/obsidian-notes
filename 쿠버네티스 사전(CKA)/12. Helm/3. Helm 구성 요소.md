
![[화면 캡처 2025-05-19 175743.png]]

### 1. Helm CLI(명령줄 도구)

- 로컬 시스템에 설치되는 명령줄 유틸리티
- 주요 기능:
    - 차트 설치
    - 애플리케이션 업그레이드
    - 롤백 수행
    - 기타 Helm 관련 작업 수행

### 2. 차트(Charts)

- **정의**: 파일 모음으로, 쿠버네티스 클러스터에 필요한 객체를 생성하기 위한 모든 지침 포함
- **구성**:
    - 템플릿 파일(templates/): 쿠버네티스 매니페스트 템플릿
    - values.yaml: 구성 가능한 값 저장
    - Chart.yaml: 메타데이터 및 버전 정보
- **템플릿 작동 방식**:
    - 일반 쿠버네티스 YAML 파일과 유사하지만 변수 사용
    - 예: 이미지 이름, 복제본 수 등이 템플릿 형식으로 지정

### 3. 릴리스(Releases)

- **정의**: Helm 차트를 사용한 애플리케이션의 단일 설치 인스턴스
- **특징**:
    - 동일한 차트에서 여러 릴리스 생성 가능
    - 각 릴리스는 독립적으로 관리됨
- **사용 예**:
    
    ```
    helm install my-site bitnami/wordpresshelm install my-second-site bitnami/wordpress
    ```
    
- **활용 사례**:
    - 동일한 애플리케이션의 여러 환경 배포(개발, 테스트, 프로덕션)
    - 동일한 애플리케이션의 다른 구성으로 여러 인스턴스 배포

### 4. 리비전(Revisions)

- **정의**: 애플리케이션의 스냅샷, 각 릴리스 내에서 여러 리비전 존재 가능
- **생성 시점**: 애플리케이션 변경 시마다 새 리비전 생성
    - 이미지 업그레이드
    - 복제본 수 변경
    - 구성 객체 변경
- **목적**: 변경 이력 추적 및 롤백 지원

### 5. 저장소(Repositories)

- **정의**: Helm 차트를 호스팅하는 공개/비공개 저장소
- **주요 제공업체**:
    - AppsCode
    - Community Operators
    - TrueCharts
    - Bitnami
    - 기타 다수
- **Artifact Hub(Helm Hub)**:
    - 다양한 저장소의 차트를 모아놓은 중앙 집중식 위치
    - artifacthub.io에서 접근 가능
    - 6,300개 이상의 패키지 제공(강의 녹화 기준)
    - 검색 기능 및 브라우징 지원
    - 공식/인증 게시자 배지로 신뢰할 수 있는 차트 표시

### 6. 메타데이터(Metadata)

- **정의**: Helm이 클러스터에서 수행한 작업 추적 데이터
    - 설치된 릴리스
    - 사용된 차트
    - 리비전 상태
    - 기타 Helm 관련 정보
- **저장 위치**: 쿠버네티스 클러스터 내의 시크릿(Secrets)으로 저장
- **이점**:
    - 데이터가 클러스터와 함께 유지됨
    - 팀의 모든 구성원이 접근 가능
    - 로컬 컴퓨터에 의존하지 않음

## 실제 적용 예시

### 간단한 Hello World 애플리케이션

- **구성 요소**:
    - Deployment: NGINX 기반 웹 서버 배포
    - Service: 노드포트 서비스로 노출
- **템플릿 예시**:
    
    ```yaml
    # 이미지 이름과 복제본 수가 템플릿 변수로 지정
    image: {{ .Values.image }}
    replicas: {{ .Values.replicas }}
    ```
    

### WordPress 애플리케이션

- 더 복잡한 구성으로 실제 사용 사례 이해에 도움
- 여러 파일과 복잡한 템플릿 구조 포함

## values.yaml 파일의 중요성

- **역할**: 차트의 구성 가능한 값 저장
- **사용법**: 대부분의 경우 사용자가 수정하는 유일한 파일
- **의미**: Helm 차트의 "설정 파일" 또는 "입력 파일"
- **커스터마이징**: 조직의 요구에 맞게 애플리케이션 배포 조정

---

## 요약

Helm은 쿠버네티스 애플리케이션 관리를 위한 여러 구성 요소로 이루어져 있습니다. CLI 도구를 통해 차트를 배포하고, 이를 통해 릴리스가 생성됩니다. 각 릴리스는 여러 리비전을 가질 수 있으며, 중앙 저장소에서 다양한 차트를 다운로드할 수 있습니다. Helm은 모든 작업 이력을 메타데이터로 쿠버네티스 클러스터에 저장하여 팀 간 일관된 관리를 가능하게 합니다. 사용자는 주로 values.yaml 파일만 수정하여 애플리케이션 배포를 커스터마이징할 수 있습니다.