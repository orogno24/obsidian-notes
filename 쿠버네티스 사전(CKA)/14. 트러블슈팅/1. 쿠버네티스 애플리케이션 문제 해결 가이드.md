## 문제 해결 접근 방식

### 사전 준비: 아키텍처 매핑

- 애플리케이션의 구성 요소와 연결을 차트나 맵으로 작성
- 모든 객체와 연결을 체계적으로 확인할 기준점 제공
- 어느 쪽에서 시작해도 되지만, 전체 구조 파악 필요

### 예시: 2-티어 애플리케이션 구조

```
[사용자] → [웹 서비스] → [웹 파드] → [데이터베이스 서비스] → [데이터베이스 파드]
```

## 단계별 문제 해결 프로세스

### 1. 프론트엔드 접근성 확인

- 표준 접근 방식으로 애플리케이션 테스트
- 웹 애플리케이션의 경우:
    
    ```bash
    curl <노드IP>:<노드포트>
    ```
    
- 응답 코드와 내용 확인

### 2. 서비스 검사

- 서비스가 파드 엔드포인트를 발견했는지 확인
    
    ```bash
    kubectl get endpoints <서비스-이름>
    ```
    
- 엔드포인트가 없을 경우 서비스-파드 발견 메커니즘 확인
- 서비스 셀렉터와 파드 레이블 비교
    
    ```bash
    kubectl describe service <서비스-이름>kubectl describe pod <파드-이름>
    ```
    
- 레이블이 일치하는지 확인

### 3. 파드 상태 검사

- 파드 실행 상태 및 재시작 횟수 확인
    
    ```bash
    kubectl get pods
    ```
    
- 파드 이벤트 확인
    
    ```bash
    kubectl describe pod <파드-이름>
    ```
    
- 애플리케이션 로그 확인
    
    ```bash
    kubectl logs <파드-이름>
    ```
    
- 파드가 재시작되는 경우 이전 로그 확인
    
    ```bash
    kubectl logs <파드-이름> --previous
    ```
    
- 실시간 로그 모니터링
    
    ```bash
    kubectl logs <파드-이름> -f
    ```
    

### 4. 백엔드 서비스 확인

- 데이터베이스 서비스 상태 확인
    
    ```bash
    kubectl get service <db-서비스-이름>kubectl get endpoints <db-서비스-이름>
    ```
    
- 서비스 셀렉터와 데이터베이스 파드 레이블 비교

### 5. 데이터베이스 파드 검사

- 데이터베이스 파드 상태 확인
    
    ```bash
    kubectl get pod <db-파드-이름>
    ```
    
- 데이터베이스 로그 확인
    
    ```bash
    kubectl logs <db-파드-이름>
    ```
    
- 데이터베이스 오류 검색

## 추가 문제 해결 기법

### 파드 내부 디버깅

- 파드 내부에서 명령 실행
    
    ```bash
    kubectl exec -it <파드-이름> -- <명령어>
    ```
    
- 예: 데이터베이스 연결 테스트
    
    ```bash
    kubectl exec -it <웹-파드-이름> -- curl <db-서비스-이름>:<포트>
    ```
    

### 네트워크 연결 테스트

- 서비스 디스커버리 확인
    
    ```bash
    kubectl exec -it <파드-이름> -- nslookup <서비스-이름>
    ```
    
- 포트 연결 테스트
    
    ```bash
    kubectl exec -it <파드-이름> -- telnet <서비스-이름> <포트>
    ```
    

### 구성 검증

- ConfigMap 및 Secret 내용 확인
    
    ```bash
    kubectl get configmap <이름> -o yamlkubectl get secret <이름> -o yaml
    ```
    
- 볼륨 마운트 확인
    
    ```bash
    kubectl describe pod <파드-이름>
    ```
    

## 실전 연습 및 준비 팁

- 강의 중 다양한 문제 해결 연습 이미 수행
- 문제 유형에 따라 적절한 접근 방식 선택
- 쿠버네티스 공식 문서의 문제 해결 가이드 참조
- 시험 및 실습 준비를 위한 체계적 접근법 학습

이 문제 해결 가이드는 쿠버네티스 환경에서 애플리케이션 오류를 체계적으로 진단하고 해결하는 데 도움이 됩니다. 모든 구성 요소를 순차적으로 확인하고, 로그와 이벤트를 분석하여 근본 원인을 파악하는 접근법을 제공합니다.