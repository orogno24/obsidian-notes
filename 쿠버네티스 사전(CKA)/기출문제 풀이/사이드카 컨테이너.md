![[Pasted image 20250522172827.png]]
```yaml
apiVersion: v1
kind: Pod
metadata:
  name: mc-pod
  namespace: mc-namespace
  labels:
    run: mc-pod
spec:
  volumes:
    - name: data
      emptyDir: {}
  containers:
    - name: mc-pod-1
      image: nginx:1-alpine
      env:
        - name: NODE_NAME
          valueFrom:
            fieldRef:
              fieldPath: spec.nodeName
    - name: mc-pod-2
      image: busybox:1
      command: ["sh", "-c", "while true; do date >> /var/log/shared/date.log; sleep 1; done"]
      volumeMounts:
        - name: data
          mountPath: /var/log/shared
    - name: mc-pod-3
      image: busybox:1
      command: ["sh", "-c", "tail -F /var/log/shared/date.log"]
      volumeMounts:
        - name: data
          mountPath: /var/log/shared
  dnsPolicy: ClusterFirst
  restartPolicy: Always
```

**🔹 컨테이너들의 관점:**

- `mc-pod-2`: 자신의 `/var/log/shared/date.log`에 쓰기 → 실제로는 노드의 파일에 쓰기
- `mc-pod-3`: 자신의 `/var/log/shared/date.log`에서 읽기 → 실제로는 같은 노드 파일에서 읽기
- `emptyDir: {}` 설정은 Pod 외부(노드의 파일시스템)에 임시 디렉토리를 생성하고, 컨테이너들이 마운트를 통해 이 디렉토리에 접근하는 구조