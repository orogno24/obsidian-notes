:wq![[Pasted image 20250523093719.png]]

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: mc-pod
  namespace: mc-namespace
  labels:
    run: mc-pod
spec:
  volumes:
    - name: data
      emptyDir: {}
  containers:
    - name: mc-pod-1
      image: nginx:1-alpine
      env:
        - name: NODE_NAME
          valueFrom:
            fieldRef:
              fieldPath: spec.nodeName
    - name: mc-pod-2
      image: busybox:1
      command: ["sh", "-c", "while true; do date >> /var/log/shared/date.log; sleep 1; done"]
      volumeMounts:
        - name: data
          mountPath: /var/log/shared
    - name: mc-pod-3
      image: busybox:1
      command: ["sh", "-c", "tail -F /var/log/shared/date.log"]
      volumeMounts:
        - name: data
          mountPath: /var/log/shared
  dnsPolicy: ClusterFirst
  restartPolicy: Always
```

**ğŸ”¹ ì»¨í…Œì´ë„ˆë“¤ì˜ ê´€ì :**

|ë³¼ë¥¨ íƒ€ì…|ë²”ìœ„|ìƒëª…ì£¼ê¸°|
|---|---|---|
|`emptyDir`|Pod ë‚´ë¶€|Podì™€ ë™ì¼|
|`hostPath`|ë…¸ë“œ ì „ì²´|ë…¸ë“œì™€ ë™ì¼|
|`persistentVolume`|í´ëŸ¬ìŠ¤í„° ì „ì²´|ë…ë¦½ì |
## í™•ì¸ ë°©ë²•

- **emptyDir ë³¼ë¥¨ì˜ ë£¨íŠ¸**ë¥¼ ì»¨í…Œì´ë„ˆì˜ `/var/log/shared`ì— **ì—°ê²°**
- ì»¨í…Œì´ë„ˆëŠ” ì‹¤ì œë¡œëŠ” ë…¸ë“œì˜ emptyDirì„ ë³´ê³  ìˆëŠ” ê²ƒ
- `mc-pod-2`: ìì‹ ì˜ `/var/log/shared/date.log`ì— ì“°ê¸° â†’ ì‹¤ì œë¡œëŠ” ë…¸ë“œì˜ íŒŒì¼ì— ì“°ê¸°
- `mc-pod-3`: ìì‹ ì˜ `/var/log/shared/date.log`ì—ì„œ ì½ê¸° â†’ ì‹¤ì œë¡œëŠ” ê°™ì€ ë…¸ë“œ íŒŒì¼ì—ì„œ ì½ê¸°
- `emptyDir: {}`íŒŒë“œ ë°”ê¹¥(ë…¸ë“œ ë””ìŠ¤í¬)ì— ìˆì§€ë§Œ, **íŒŒë“œì™€ ìƒëª…ì£¼ê¸°ê°€ ë™ì¼**

```yaml
volumes:                    # ğŸ“¦ ì°½ê³  ë§Œë“¤ê¸° (íŒŒë“œ ë°”ê¹¥, ë…¸ë“œì—)
  - name: data             # ì°½ê³  ì´ë¦„í‘œ: "data"
    emptyDir: {}           # ë¹ˆ ì°½ê³  í•˜ë‚˜ ë§Œë“¤ì–´ì¤˜

volumeMounts:              # ğŸ”‘ ì°½ê³  ì ‘ê·¼ ì—´ì‡  ë§Œë“¤ê¸°
  - name: data             # "data" ì°½ê³ ì— ì ‘ê·¼í•˜ê³  ì‹¶ì–´
    mountPath: /var/log/shared  # ë‚´ ë°© ì•ˆì˜ "/var/log/shared" ë¬¸ìœ¼ë¡œ ì—°ê²°í•´ì¤˜
```