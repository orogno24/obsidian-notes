# EasyCook API ëª…ì„¸ì„œ - ì…ì¶œë ¥ ë°ì´í„° ë° í”„ë¡œê·¸ë¨ëª…

## ğŸ“‹ API ìƒì„¸ ì •ë³´

### 1ï¸âƒ£ ì‚¬ìš©ì ê´€ë¦¬ API (UserService)

#### 1. API_USR_001_01 - ì‚¬ìš©ì íšŒì›ê°€ì…

- **URI**: `POST /api/users/register`
- **í”„ë¡œê·¸ë¨ëª…**: `UserApiController.register`
- **ì…ë ¥ ë°ì´í„°**: `UserInfoDTO`
    
    ```json
    {  "userId": "string (4-20ê¸€ì, í•„ìˆ˜)",  "userName": "string (2-10ê¸€ì, í•„ìˆ˜)",   "password": "string (4-20ê¸€ì, í•„ìˆ˜)",  "email": "string (ìµœëŒ€ 50ê¸€ì, í•„ìˆ˜, ì´ë©”ì¼ í˜•ì‹)"}
    ```
    
- **ì‘ë‹µ ë°ì´í„°**: `Map<String, Object>`
    
    ```json
    // ì„±ê³µ (200){  "success": true,  "message": "íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."}// ì‹¤íŒ¨ (400){  "success": false,  "message": "ì•„ì´ë””ëŠ” 4~20ê¸€ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”."}
    ```
    

#### 2. API_USR_001_02 - ì‚¬ìš©ì ë¡œê·¸ì¸

- **URI**: `POST /api/auth/login`
- **í”„ë¡œê·¸ë¨ëª…**: `UserApiController.login`
- **ì…ë ¥ ë°ì´í„°**: `Map<String, String>`
    
    ```json
    {  "username": "string (í•„ìˆ˜)",  "password": "string (í•„ìˆ˜)"}
    ```
    
- **ì‘ë‹µ ë°ì´í„°**: `Map<String, Object>`
    
    ```json
    // ì„±ê³µ (200){  "success": true,  "userId": "john123",  "token": "eyJhbGciOiJIUzI1NiJ9...",  "message": "ë¡œê·¸ì¸ ì„±ê³µ"}// ì‹¤íŒ¨ (401){  "success": false,  "message": "ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤."}
    ```
    

#### 3. API_USR_001_03 - ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ

- **URI**: `GET /api/users/{userId}`
- **í”„ë¡œê·¸ë¨ëª…**: `UserApiController.getUserInfo`
- **ì…ë ¥ ë°ì´í„°**: URL ê²½ë¡œ íŒŒë¼ë¯¸í„°
    
    ```
    userId: string (ê²½ë¡œ íŒŒë¼ë¯¸í„°)
    ```
    
- **ì‘ë‹µ ë°ì´í„°**: `UserInfoDTO`
    
    ```json
    // ì„±ê³µ (200){  "userId": "john123",  "userName": "John Doe",  "password": null,  "email": "john@example.com"}// ì‹¤íŒ¨ (404)// ì‘ë‹µ ì—†ìŒ (Not Found)
    ```
    

### 2ï¸âƒ£ ë¶ë§ˆí¬ ê´€ë¦¬ API (UserService)

#### 4. API_USR_001_04 - ë¶ë§ˆí¬ ëª©ë¡ ì¡°íšŒ

- **URI**: `GET /api/bookmarks?type={type}`
- **í”„ë¡œê·¸ë¨ëª…**: `BookmarkController.getUserBookmarks`
- **ì…ë ¥ ë°ì´í„°**: Query íŒŒë¼ë¯¸í„°
    
    ```
    type: string (ì„ íƒ, "RECIPE" | "NUTRITION")userId: string (ì„ íƒ, FrontendServiceìš©)
    ```
    
- **ì‘ë‹µ ë°ì´í„°**: `List<BookmarkDTO>`
    
    ```json
    [  {    "id": 123,    "userId": "user123",    "bookmarkType": "RECIPE",    "itemId": "RCP_001",    "itemTitle": "ê¹€ì¹˜ì°Œê°œ",    "itemDescription": "ë§¤ì½¤í•˜ê³  ë§›ìˆëŠ” ê¹€ì¹˜ì°Œê°œ",    "itemUrl": "/recipes/RCP_001",    "createdAt": "2024-07-02T12:30:45"  }]
    ```
    

#### 5. API_USR_002_01 - ë¶ë§ˆí¬ ì¶”ê°€

- **URI**: `POST /api/bookmarks`
- **í”„ë¡œê·¸ë¨ëª…**: `BookmarkController.addBookmark`
- **ì…ë ¥ ë°ì´í„°**: `BookmarkDTO`
    
    ```json
    {  "userId": "user123",  "bookmarkType": "RECIPE",  "itemId": "RCP_001",  "itemTitle": "ê¹€ì¹˜ì°Œê°œ",  "itemDescription": "ë§¤ì½¤í•˜ê³  ë§›ìˆëŠ” ê¹€ì¹˜ì°Œê°œ ë ˆì‹œí”¼",  "itemUrl": "/recipes/RCP_001"}
    ```
    
- **ì‘ë‹µ ë°ì´í„°**: `Map<String, Object>`
    
    ```json
    // ì„±ê³µ (200){  "success": true,  "bookmark": {    "id": 125,    "userId": "user123",    "bookmarkType": "RECIPE",    "itemId": "RCP_001",    "itemTitle": "ê¹€ì¹˜ì°Œê°œ",    "itemDescription": "ë§¤ì½¤í•˜ê³  ë§›ìˆëŠ” ê¹€ì¹˜ì°Œê°œ ë ˆì‹œí”¼",    "itemUrl": "/recipes/RCP_001",    "createdAt": "2024-07-02T14:25:10"  }}
    ```
    

#### 6. API_USR_002_02 - ë¶ë§ˆí¬ ì‚­ì œ

- **URI**: `DELETE /api/bookmarks/{bookmarkId}` ë˜ëŠ” `DELETE /api/bookmarks/item/{itemId}`
- **í”„ë¡œê·¸ë¨ëª…**: `BookmarkController.deleteBookmark` ë˜ëŠ” `BookmarkController.deleteBookmarkByItemId`
- **ì…ë ¥ ë°ì´í„°**: URL ê²½ë¡œ íŒŒë¼ë¯¸í„°
    
    ```
    // ë°©ë²• 1: ID ê¸°ì¤€bookmarkId: Long (ê²½ë¡œ íŒŒë¼ë¯¸í„°)userId: string (ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°, ì„ íƒ)// ë°©ë²• 2: ì•„ì´í…œ ID ê¸°ì¤€  itemId: string (ê²½ë¡œ íŒŒë¼ë¯¸í„°)userId: string (ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°, ì„ íƒ)
    ```
    
- **ì‘ë‹µ ë°ì´í„°**: `Map<String, Object>`
    
    ```json
    // ì„±ê³µ (200){  "success": true}// ì‹¤íŒ¨ (400){  "error": "ë¶ë§ˆí¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"}
    ```
    

#### 7. API_USR_002_03 - ë¶ë§ˆí¬ ìƒíƒœ í™•ì¸

- **URI**: `GET /api/bookmarks/check/{itemId}`
- **í”„ë¡œê·¸ë¨ëª…**: `BookmarkController.checkBookmark`
- **ì…ë ¥ ë°ì´í„°**: URL ê²½ë¡œ íŒŒë¼ë¯¸í„°
    
    ```
    itemId: string (ê²½ë¡œ íŒŒë¼ë¯¸í„°)userId: string (ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°, ì„ íƒ)
    ```
    
- **ì‘ë‹µ ë°ì´í„°**: `Map<String, Object>`
    
    ```json
    {  "isBookmarked": true}
    ```
    

### 3ï¸âƒ£ ë ˆì‹œí”¼ ê´€ë¦¬ API (RecipeService)

#### 8. API_RCP_001_01 - ë ˆì‹œí”¼ ëª©ë¡ ì¡°íšŒ

- **URI**: `GET /api/recipes?startIdx={startIdx}&endIdx={endIdx}`
- **í”„ë¡œê·¸ë¨ëª…**: `RecipeController.getRecipeList`
- **ì…ë ¥ ë°ì´í„°**: Query íŒŒë¼ë¯¸í„°
    
    ```
    startIdx: int (ê¸°ë³¸ê°’: 1, 1-1000)endIdx: int (ê¸°ë³¸ê°’: 20, 1-1000)
    ```
    
- **ì‘ë‹µ ë°ì´í„°**: `List<RecipeDTO>`
    
    ```json
    [  {    "recipeSeq": "RCP_001",    "recipeName": "ê¹€ì¹˜ì°Œê°œ",    "cookingMethod": "ë“ì´ê¸°",    "recipeType": "êµ­",    "weight": "400g",    "calories": "120kcal",    "carbohydrate": "8g",    "protein": "12g",    "fat": "6g",    "sodium": "800mg",    "ingredients": "ê¹€ì¹˜ 200g, ë¼ì§€ê³ ê¸° 100g, ë‘ë¶€ 150g",    "mainImageUrl": "http://example.com/recipe1.jpg",    "manual01": "ê¹€ì¹˜ì™€ ë¼ì§€ê³ ê¸°ë¥¼ ì¤€ë¹„í•©ë‹ˆë‹¤.",    "manualImg01": "http://example.com/step1.jpg"  }]
    ```
    

#### 9. API_RCP_001_02 - ë ˆì‹œí”¼ ìƒì„¸ ì¡°íšŒ

- **URI**: `GET /api/recipes/{recipeSeq}`
- **í”„ë¡œê·¸ë¨ëª…**: `RecipeController.getRecipeDetail`
- **ì…ë ¥ ë°ì´í„°**: URL ê²½ë¡œ íŒŒë¼ë¯¸í„°
    
    ```
    recipeSeq: string (ê²½ë¡œ íŒŒë¼ë¯¸í„°)
    ```
    
- **ì‘ë‹µ ë°ì´í„°**: `RecipeDTO` (ìƒì„¸ ì •ë³´ í¬í•¨)
    
    ```json
    {  "recipeSeq": "RCP_001",  "recipeName": "ê¹€ì¹˜ì°Œê°œ",  "cookingMethod": "ë“ì´ê¸°",  "recipeType": "êµ­",  // ... ëª¨ë“  ì˜ì–‘ì„±ë¶„ ì •ë³´  // ... ì¡°ë¦¬ë²• 20ë‹¨ê³„ê¹Œì§€ (manual01~manual20, manualImg01~manualImg20)  "lowSodiumTip": "ê¹€ì¹˜ì˜ ë‚˜íŠ¸ë¥¨ì„ ì¤„ì´ë ¤ë©´ ë¬¼ì— í•œ ë²ˆ í—¹ê¶ˆ ì‚¬ìš©í•˜ì„¸ìš”."}
    ```
    

#### 10. API_RCP_001_03 - ë ˆì‹œí”¼ ê²€ìƒ‰

- **URI**: `GET /api/recipes/search?recipeName={recipeName}&startIdx={startIdx}&endIdx={endIdx}`
- **í”„ë¡œê·¸ë¨ëª…**: `RecipeController.searchRecipe`
- **ì…ë ¥ ë°ì´í„°**: Query íŒŒë¼ë¯¸í„°
    
    ```
    recipeName: string (í•„ìˆ˜, 1-50ê¸€ì)startIdx: int (ê¸°ë³¸ê°’: 1, 1-1000)endIdx: int (ê¸°ë³¸ê°’: 20, 1-1000)
    ```
    
- **ì‘ë‹µ ë°ì´í„°**: `List<RecipeDTO>`

#### 11. API_RCP_001_04 - ë ˆì‹œí”¼ íƒ€ì…ë³„ ê²€ìƒ‰

- **URI**: `GET /api/recipes/search/type?recipeType={recipeType}&startIdx={startIdx}&endIdx={endIdx}`
- **í”„ë¡œê·¸ë¨ëª…**: `RecipeController.searchRecipeByType`
- **ì…ë ¥ ë°ì´í„°**: Query íŒŒë¼ë¯¸í„°
    
    ```
    recipeType: string (í•„ìˆ˜, "ë°˜ì°¬"|"êµ­"|"ë©”ì¸ìš”ë¦¬"|"í›„ì‹"|"ê°„ì‹"|"ê¸°íƒ€")startIdx: int (ê¸°ë³¸ê°’: 1, 1-1000)endIdx: int (ê¸°ë³¸ê°’: 20, 1-1000)
    ```
    
- **ì‘ë‹µ ë°ì´í„°**: `List<RecipeDTO>`

#### 12. API_RCP_001_05 - ë ˆì‹œí”¼ ì´ ê°œìˆ˜ ì¡°íšŒ

- **URI**: `GET /api/recipes/count`
- **í”„ë¡œê·¸ë¨ëª…**: `RecipeController.getTotalRecipeCount`
- **ì…ë ¥ ë°ì´í„°**: ì—†ìŒ
- **ì‘ë‹µ ë°ì´í„°**: `Integer`
    
    ```json
    1500
    ```
    

### 4ï¸âƒ£ ì˜ì–‘ì •ë³´ ê´€ë¦¬ API (NutritionService)

#### 13. API_NUT_001_01 - ì˜ì–‘ì •ë³´ ê²€ìƒ‰

- **URI**: `GET /api/nutrition/search?foodName={foodName}&page={page}&size={size}`
- **í”„ë¡œê·¸ë¨ëª…**: `NutritionController.searchNutrition`
- **ì…ë ¥ ë°ì´í„°**: Query íŒŒë¼ë¯¸í„°
    
    ```
    foodName: string (ì„ íƒ, 1-50ê¸€ì)makerName: string (ì„ íƒ, 1-50ê¸€ì)category: string (ì„ íƒ, ì§€ì •ëœ ì¹´í…Œê³ ë¦¬ ëª©ë¡)page: int (ê¸°ë³¸ê°’: 1, 1-100)size: int (ê¸°ë³¸ê°’: 10, 1-50)
    ```
    
- **ì‘ë‹µ ë°ì´í„°**: `NutritionSearchResponse`
    
    ```json
    {  "nutritions": [    {      "foodCode": "D000001",      "foodName": "ê¹€ì¹˜ì°Œê°œ",      "foodCategory": "êµ­ë¬¼ë¥˜",      "makerName": "ìì²´ì œì¡°",      "servingSize": "100g",      "energy": "45.2",      "protein": "2.1",      "fat": "1.2",      "carbohydrate": "6.8",      "sodium": "890.5"    }  ],  "currentPage": 1,  "totalPages": 5,  "totalCount": 47,  "pageSize": 10,  "success": true,  "message": "ê²€ìƒ‰ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."}
    ```
    

#### 14. API_NUT_001_02 - ì˜ì–‘ì •ë³´ ìƒì„¸ ì¡°íšŒ

- **URI**: `GET /api/nutrition/{foodCode}`
- **í”„ë¡œê·¸ë¨ëª…**: `NutritionController.getNutritionDetail`
- **ì…ë ¥ ë°ì´í„°**: URL ê²½ë¡œ íŒŒë¼ë¯¸í„°
    
    ```
    foodCode: string (ê²½ë¡œ íŒŒë¼ë¯¸í„°, 1-20ê¸€ì, ì˜ë¬¸ì+ìˆ«ì)
    ```
    
- **ì‘ë‹µ ë°ì´í„°**: `NutritionDTO`
    
    ```json
    {  "itemReportNo": "202400001",  "foodCode": "D000001",  "foodName": "ê¹€ì¹˜ì°Œê°œ",  "foodCategory": "êµ­ë¬¼ë¥˜",  "makerName": "ìì²´ì œì¡°",  "servingSize": "100g",  "energy": "45.2",  "protein": "2.1",  "fat": "1.2",  "carbohydrate": "6.8",  "sugars": "2.3",  "dietaryFiber": "1.5",  "sodium": "890.5",  "calcium": "45.6",  "iron": "0.8",  "vitaminC": "12.5",  "cholesterol": "15.2",  "saturatedFat": "0.4",  "transFat": "0.0"}
    ```
    

### 5ï¸âƒ£ ì™¸ë¶€ API ì—°ë™ (ë‚´ë¶€ êµ¬í˜„)

#### 15. API_WEB_001_01 - ì™¸ë¶€ ë ˆì‹œí”¼ API ì—°ë™

- **URI**: ë‚´ë¶€ êµ¬í˜„ (ê³µê°œ ì—”ë“œí¬ì¸íŠ¸ ì—†ìŒ)
- **í”„ë¡œê·¸ë¨ëª…**: `RecipeApiClient.getRecipeData` (OpenFeign í´ë¼ì´ì–¸íŠ¸)
- **ì„¤ëª…**: ì‹í’ˆì•ˆì „ë‚˜ë¼ APIì™€ ë‚´ë¶€ ì—°ë™
- **ì…ë ¥ ë°ì´í„°**: ë‚´ë¶€ ì„œë¹„ìŠ¤ ë¡œì§ì—ì„œ ì²˜ë¦¬
- **ì‘ë‹µ ë°ì´í„°**: ì™¸ë¶€ API ì‘ë‹µì„ RecipeDTOë¡œ ë³€í™˜

#### 16. API_WEB_001_02 - ì™¸ë¶€ ì˜ì–‘ì •ë³´ API ì—°ë™

- **URI**: ë‚´ë¶€ êµ¬í˜„ (ê³µê°œ ì—”ë“œí¬ì¸íŠ¸ ì—†ìŒ)
- **í”„ë¡œê·¸ë¨ëª…**: `NutritionApiClient.getNutritionData` (OpenFeign í´ë¼ì´ì–¸íŠ¸)
- **ì„¤ëª…**: ì‹í’ˆì˜ì•½í’ˆì•ˆì „ì²˜ APIì™€ ë‚´ë¶€ ì—°ë™
- **ì…ë ¥ ë°ì´í„°**: ë‚´ë¶€ ì„œë¹„ìŠ¤ ë¡œì§ì—ì„œ ì²˜ë¦¬
- **ì‘ë‹µ ë°ì´í„°**: ì™¸ë¶€ API ì‘ë‹µì„ NutritionDTOë¡œ ë³€í™˜

## ğŸ“ ê³µí†µ ì‘ë‹µ íŒ¨í„´

### ì„±ê³µ ì‘ë‹µ íŒ¨í„´

- **200 OK**: ì •ìƒ ì²˜ë¦¬
- **201 Created**: ìƒì„± ì™„ë£Œ (ë¶ë§ˆí¬ ì¶”ê°€ ë“±)

### ì˜¤ë¥˜ ì‘ë‹µ íŒ¨í„´

- **400 Bad Request**: ì˜ëª»ëœ ìš”ì²­ ë°ì´í„°
- **401 Unauthorized**: ì¸ì¦ ì‹¤íŒ¨
- **404 Not Found**: ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ
- **500 Internal Server Error**: ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜

### ê³µí†µ ì˜¤ë¥˜ ì‘ë‹µ í˜•ì‹

```json
{
  "error": "ì˜¤ë¥˜ ë©”ì‹œì§€",
  "success": false,
  "message": "ìƒì„¸ ì˜¤ë¥˜ ì„¤ëª…"
}
```

## ğŸ” ì¸ì¦ ê´€ë ¨ ì •ë³´

### JWT í† í° ì‚¬ìš©

- **Header**: `Authorization: Bearer {token}`
- **ë§Œë£Œ ì‹œê°„**: 24ì‹œê°„ (86400000ms)
- **ì¸ì¦ í•„ìˆ˜ API**: ë¶ë§ˆí¬ ê´€ë ¨ ëª¨ë“  API

### CORS ì„¤ì •

- **UserService**: `http://localhost:8080` í—ˆìš©
- **NutritionService**: ëª¨ë“  ì¶œì²˜ í—ˆìš© (`*`)

## ğŸ“Š í˜ì´ì§€ë„¤ì´ì…˜ ì •ë³´

### RecipeService í˜ì´ì§€ë„¤ì´ì…˜

- **ë°©ì‹**: ì¸ë±ìŠ¤ ê¸°ë°˜ (startIdx, endIdx)
- **ë²”ìœ„**: 1-1000
- **ê¸°ë³¸ê°’**: startIdx=1, endIdx=20

### NutritionService í˜ì´ì§€ë„¤ì´ì…˜

- **ë°©ì‹**: í˜ì´ì§€ ê¸°ë°˜ (page, size)
- **ë²”ìœ„**: page(1-100), size(1-50)
- **ê¸°ë³¸ê°’**: page=1, size=10