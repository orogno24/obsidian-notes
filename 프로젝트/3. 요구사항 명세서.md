## Fruitables — 요구사항 명세서 (v1.0 · 2025-05-28)

> **목적** 이 문서는 _Fruitables_ 시스템이 반드시 충족해야 하는 기능·비기능 요구사항을 정의한다.  
> **범위** FruitCatalog, OrderManager, DeliveryMock 3개 마이크로서비스와 그 외 공통 인프라(Kong GW, RabbitMQ, PostgreSQL 등).

---

### 1. 용어‧약어

|용어|정의|
|---|---|
|**상품**|과일 1종(이름·가격·재고)|
|**주문**|사용자 1회 구매 행위|
|**배송 단계**|`READY → ON_ROUTE → DELIVERED`|
|**paymentToken**|모의 결제 토큰(형식: `tok_test_*`)|

---

### 2. 이해관계자 & 액터

|액터|설명|
|---|---|
|**사용자(Consumer)**|웹 UI로 상품 조회·주문|
|**시스템(Internal)**|서비스 간 재고 차감·배송 전이 동작|
|**관리자(Admin)**|초기 Seed 데이터 입력·재고 조정만 수행|

---

## ✅ Fruitables – 기능 요구사항 정리

---

### 1. 회원 기능

| 요구사항 ID | 업무분류             | 1차 분류    | 2차 분류 | 요구사항 설명                                        |
| ------- | ---------------- | -------- | ----- | ---------------------------------------------- |
| ACC-01  | 회원 > 농가 > 가입     | S/W 요구사항 | 기능    | 농가 회원은 ID, PW, 농장명 등 입력 후 가입 요청을 보낼 수 있어야 한다   |
| ACC-02  | 회원 > 농가 > 파일 업로드 | S/W 요구사항 | 기능    | 가입 시 사업자등록증(PDF, JPG)을 파일로 첨부해야 한다             |
| ACC-03  | 회원 > 농가 > 이메일 인증 | S/W 요구사항 | 기능    | 이메일로 전송된 인증 링크 클릭 시 인증 완료 처리되어야 한다             |
| ACC-04  | 회원 > 농가 > 승인     | S/W 요구사항 | 기능    | 관리자는 미승인 농가 회원을 검토 후 승인/거절 처리할 수 있어야 한다        |
| ACC-05  | 회원 > 소비자 > 일반 가입 | S/W 요구사항 | 기능    | 소비자는 ID, 비밀번호, 이름, 휴대폰 정보를 입력해 가입할 수 있어야 한다    |
| ACC-06  | 회원 > 공통 > 로그인    | S/W 요구사항 | 기능    | 회원은 ID, 비밀번호로 로그인 후 JWT를 발급받아야 한다              |
| ACC-07  | 회원 > 공통 > 계정 찾기  | S/W 요구사항 | 기능    | 이름과 휴대폰으로 아이디를 찾고, 아이디 + 정보로 비밀번호 재설정이 가능해야 한다 |
| ACC-08  | 회원 > 공통 > 탈퇴     | S/W 요구사항 | 기능    | 소비자는 즉시 탈퇴 가능, 농가는 미배송 주문이 없어야 탈퇴가 가능해야 한다     |
| ACC-09  | 회원 > 관리자 > 목록 조회 | S/W 요구사항 | 기능    | 관리자는 전체 회원 목록을 검색/필터링하여 조회할 수 있어야 한다           |

---

### 2. 상품 기능

| 요구사항 ID | 업무분류           | 1차 분류    | 2차 분류 | 요구사항 설명                                    |
| ------- | -------------- | -------- | ----- | ------------------------------------------ |
| CAT-01  | 상품 > 목록 > 전체조회 | S/W 요구사항 | 기능    | 사용자(소비자)는 상품 목록을 이름, 가격, 재고와 함께 볼 수 있어야 한다 |
| CAT-02  | 상품 > 상세 > 개별조회 | S/W 요구사항 | 기능    | 사용자가 특정 상품을 클릭하면 상세 정보를 확인할 수 있어야 한다       |
| CAT-03  | 상품 > 재고 > 자동차감 | S/W 요구사항 | 데이터   | 주문이 생성되면 해당 상품의 재고가 자동으로 차감되어야 한다          |

---

### 3. 주문 기능

| 요구사항 ID | 업무분류           | 1차 분류    | 2차 분류 | 요구사항 설명                                              |
| ------- | -------------- | -------- | ----- | ---------------------------------------------------- |
| ORD-01  | 주문 > 생성 > 주문하기 | S/W 요구사항 | 기능    | 소비자는 상품과 수량을 선택해 주문을 생성할 수 있어야 하며, 모의 결제 토큰을 포함해야 한다 |
| ORD-02  | 주문 > 수정 > 수량변경 | S/W 요구사항 | 기능    | 주문 상태가 READY일 경우 주문 수량을 수정할 수 있어야 한다                 |
| ORD-03  | 주문 > 취소 > 주문취소 | S/W 요구사항 | 기능    | 주문 상태가 READY일 경우 소비자는 해당 주문을 취소할 수 있어야 한다            |
| ORD-04  | 주문 > 조회 > 전체조회 | S/W 요구사항 | 기능    | 로그인한 사용자는 본인의 주문 목록을 조회할 수 있어야 한다                    |
| ORD-05  | 주문 > 조회 > 상세조회 | S/W 요구사항 | 기능    | 주문 상세 페이지에서 품목, 수량, 총액, 배송 상태 등을 확인할 수 있어야 한다        |

---

### 4. 배송 기능

|요구사항 ID|업무분류|1차 분류|2차 분류|요구사항 설명|
|---|---|---|---|---|
|DLV-01|배송 > 시작 > 배송등록|S/W 요구사항|기능|주문이 생성되면 배송 상태가 READY로 자동 설정되어야 한다|
|DLV-02|배송 > 상태 > 전이|S/W 요구사항|기능|배송 상태는 READY → ON_ROUTE → DELIVERED 순으로 자동 또는 수동 변경 가능해야 한다|
|DLV-03|배송 > 조회 > 상태확인|S/W 요구사항|기능|소비자는 주문 상세 페이지에서 현재 배송 상태를 확인할 수 있어야 한다|

---

## ✅ Fruitables – 비기능 요구사항 정리

| 요구사항 ID | 업무분류                  | 1차 분류   | 2차 분류 | 요구사항 설명                                                    |
| ------- | --------------------- | ------- | ----- | ---------------------------------------------------------- |
| NFR-01  | 시스템 > 성능              | 품질 요구사항 | 효율성   | 모든 주요 화면은 2초 이내 로딩, API 응답은 평균 500ms 이하를 유지해야 한다           |
| NFR-02  | 시스템 > 리소스 관리          | 품질 요구사항 | 신뢰성   | Kubernetes HPA를 사용하여 CPU/메모리 사용량에 따라 Pod 수를 자동 조절해야 한다     |
| NFR-03  | 사용자 정보 > 비밀번호         | 품질 요구사항 | 보안성   | 사용자 비밀번호는 복호화 불가능한 해시 알고리즘(BCrypt 등)으로 저장되어야 한다            |
| NFR-04  | 사용자 정보 > 탈퇴 후 개인정보 처리 | 품질 요구사항 | 보안성   | 회원 탈퇴 후 개인정보는 즉시 물리적으로 삭제되어야 한다                            |
| NFR-05  | UI/UX > 브라우저 호환성      | 품질 요구사항 | 사용성   | 서비스는 Chrome, Edge, Safari 등 최신 브라우저 및 모바일 환경에서도 정상 동작해야 한다 |
| NFR-06  | 배포 자동화                | 품질 요구사항 | 유지보수성 | Git에 코드 푸시 시 Jenkins 및 ArgoCD를 통해 10분 이내 자동 배포가 이뤄져야 한다    |
| NFR-07  | 로깅 > 표준화              | 품질 요구사항 | 유지보수성 | 모든 서비스 로그는 Loki로 수집되며, 일관된 포맷을 유지해야 한다                     |
| NFR-08  | API 문서화               | 품질 요구사항 | 사용성   | 전체 API는 Swagger를 통해 문서화되어 사용자가 접근 가능해야 한다                  |
| NFR-09  | 서비스 간 통신 보안           | 품질 요구사항 | 보안성   | Istio mTLS를 통해 서비스 간 통신은 암호화되어야 한다                         |
| NFR-10  | 분산 트레이싱               | 품질 요구사항 | 신뢰성   | 주문~배송 간 요청 흐름은 Jaeger를 통해 시각화되고 추적 가능해야 한다                 |

---

📌 참고:

- **1차 분류**는 모두 “품질 요구사항”
    
- **2차 분류**는 ISO 품질 속성 (보안성, 신뢰성, 사용성 등)에 따라 분류
    
- 업무분류는 시스템 구성 요소 또는 기능 그룹으로 간략화
    

필요하시면 이 표를 기반으로:

- 테스트 항목 리스트 (ex. 테스트 케이스로 변환)
    
- 실현 가능성 검토 항목
    
- 상태관리용 체크리스트
    

등도 확장해드릴 수 있습니다. 다음으로 어떤 작업을 도와드릴까요?