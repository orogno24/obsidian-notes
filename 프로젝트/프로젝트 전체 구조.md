# EasyCook 프로젝트 구조 개요

## 🏗️ 전체 아키텍처

EasyCook은 **마이크로서비스 아키텍처**로 구성된 요리 레시피 및 영양정보 제공 플랫폼입니다.

### 📁 프로젝트 구성 (4개 마이크로서비스)

```
EasyCook/
├── FrontendService/     # 웹 UI 및 게이트웨이 (포트: 8080)
├── UserService/        # 사용자 관리 및 인증 (포트: 8082) 
├── RecipeService/      # 레시피 정보 관리 (포트: 8084)
└── NutritionService/   # 영양정보 관리 (포트: 8086)
```

## 🎯 각 서비스별 역할

### 1. FrontendService (포트: 8080)

- **역할**: 웹 UI 제공 및 API 게이트웨이
- **기술스택**: Spring Boot + Thymeleaf + Bootstrap
- **주요 기능**:
    - 사용자 인터페이스 제공
    - 다른 마이크로서비스와의 통신 (Feign Client)
    - 인증/인가 처리
    - CORS 설정 관리

#### 핵심 컴포넌트

```
src/main/java/com/example/frontendservice/
├── client/              # 마이크로서비스 통신 (Feign)
│   ├── UserServiceClient.java
│   ├── RecipeServiceClient.java
│   └── NutritionServiceClient.java
├── controller/          # 웹 컨트롤러
│   ├── MainController.java
│   ├── UserController.java
│   ├── RecipeController.java
│   └── NutritionController.java
├── config/              # 설정 클래스
│   ├── SecurityConfig.java
│   ├── FeignConfig.java
│   └── WebClientConfig.java
├── dto/                 # 데이터 전송 객체
└── security/            # 보안 관련
```

#### 웹 리소스

```
src/main/resources/
├── templates/           # Thymeleaf 템플릿
│   ├── index.html
│   ├── login.html
│   ├── shop.html       # 레시피 목록
│   ├── nutrition.html  # 영양정보 검색
│   └── bookmarks.html  # 북마크 관리
└── static/             # 정적 리소스 (CSS, JS, 이미지)
```

### 2. UserService (포트: 8082)

- **역할**: 사용자 관리, 인증, 북마크 관리
- **기술스택**: Spring Boot + Spring Security + JPA + PostgreSQL
- **주요 기능**:
    - 회원가입/로그인
    - JWT 토큰 관리
    - 사용자 정보 관리
    - 북마크 기능

#### 핵심 컴포넌트

```
src/main/java/com/example/userservice/
├── controller/          # REST API 컨트롤러
│   ├── UserApiController.java
│   ├── UserInfoController.java
│   └── BookmarkController.java
├── repository/          # 데이터 액세스
│   ├── entity/
│   │   ├── UserInfoEntity.java
│   │   └── BookmarkEntity.java
│   ├── UserInfoRepository.java
│   └── BookmarkRepository.java
├── service/             # 비즈니스 로직
│   ├── impl/
│   │   ├── UserService.java
│   │   └── BookmarkServiceImpl.java
│   ├── IUserService.java
│   └── IBookmarkService.java
└── security/            # JWT 인증
    ├── JwtTokenProvider.java
    └── JwtAuthenticationFilter.java
```

### 3. RecipeService (포트: 8084)

- **역할**: 레시피 정보 관리 및 외부 API 연동
- **기술스택**: Spring Boot + 식품안전정보원 OpenAPI
- **주요 기능**:
    - 레시피 검색/조회
    - 외부 레시피 API 연동
    - 레시피 데이터 가공

#### 핵심 컴포넌트

```
src/main/java/com/example/recipeservice/
├── controller/          # REST API 컨트롤러
│   ├── RecipeController.java
│   └── RecipeViewController.java
├── service/             # 비즈니스 로직
│   ├── impl/
│   │   └── RecipeService.java
│   ├── IRecipeService.java
│   └── RecipeApiClient.java    # 외부 API 클라이언트
├── dto/                 # 데이터 전송 객체
│   ├── RecipeDTO.java
│   └── RecipeApiResponse.java
└── util/                # 유틸리티
    └── RecipeUtil.java
```

### 4. NutritionService (포트: 8086)

- **역할**: 영양정보 관리 및 외부 API 연동
- **기술스택**: Spring Boot + 식품의약품안전처 OpenAPI
- **주요 기능**:
    - 영양성분 검색/조회
    - 외부 영양정보 API 연동
    - 영양 데이터 가공

#### 핵심 컴포넌트

```
src/main/java/com/example/nutritionservice/
├── controller/          # REST API 컨트롤러
│   ├── NutritionController.java
│   └── NutritionViewController.java
├── service/             # 비즈니스 로직
│   ├── impl/
│   │   └── NutritionService.java
│   ├── INutritionService.java
│   └── NutritionApiClient.java # 외부 API 클라이언트
└── dto/                 # 데이터 전송 객체
    ├── NutritionDTO.java
    ├── NutritionApiResponse.java
    └── NutritionSearchResponse.java
```

## 🔧 공통 기술스택 및 설정

### 공통 기술

- **언어**: Java (Spring Boot)
- **빌드도구**: Gradle
- **데이터베이스**: PostgreSQL (14.63.177.157:30432)
- **인증**: JWT (JSON Web Token)
- **통신**: OpenFeign (마이크로서비스간), RestTemplate (외부 API)
- **보안**: Spring Security + CORS

### 외부 API 연동

1. **식품안전정보원 레시피 API**
    
    - URL: `http://openapi.foodsafetykorea.go.kr/api`
    - API Key: `5ea4668d80534fc482f9`
2. **식품의약품안전처 영양성분 API**
    
    - URL: `https://apis.data.go.kr/1471000/FoodNtrCpntDbInfo02`
    - Service Key: 인코딩된 키 사용

### 데이터베이스 정보

- **호스트**: 14.63.177.157:30432
- **데이터베이스**: minjae
- **사용자**: minjae
- **비밀번호**: 1234 (UserService), fcltz4JJ5z (Recipe/NutritionService)

## 🚀 서비스 간 통신 플로우

```
사용자 요청 → FrontendService (8080)
    ↓
[Feign Client를 통한 내부 통신]
    ↓
UserService (8082) / RecipeService (8084) / NutritionService (8086)
    ↓
[필요시 외부 API 호출]
    ↓
식품안전정보원 API / 식품의약품안전처 API
```

## 📝 주요 페이지 및 기능

- **메인페이지** (`/`): 서비스 소개 및 대시보드
- **레시피** (`/shop`): 레시피 검색 및 상세보기
- **영양정보** (`/nutrition`): 영양성분 검색 및 상세보기
- **로그인/회원가입** (`/login`, `/signup`): 사용자 인증
- **북마크** (`/bookmarks`): 즐겨찾기 관리

## 🔑 주요 특징

1. **마이크로서비스 아키텍처**: 각 도메인별로 독립적인 서비스 분리
2. **외부 API 연동**: 공공데이터 활용으로 풍부한 컨텐츠 제공
3. **JWT 인증**: 토큰 기반 인증으로 보안성 확보
4. **반응형 웹**: Bootstrap 기반 모바일 친화적 UI
5. **북마크 시스템**: 사용자 개인화 기능