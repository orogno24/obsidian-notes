### 1. **ì„œë¹„ìŠ¤ë³„ êµ¬ì¡°**

```
auth-service/
â”œâ”€â”€ src/main/
â”‚   â”œâ”€â”€ java/           # Spring Boot ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ resources/
â”‚   â”‚   â”œâ”€â”€ static/     # CSS, JS, ì´ë¯¸ì§€
â”‚   â”‚   â”œâ”€â”€ templates/  # Thymeleaf HTML
â”‚   â”‚   â”‚   â”œâ”€â”€ login.html
â”‚   â”‚   â”‚   â”œâ”€â”€ register.html
â”‚   â”‚   â”‚   â””â”€â”€ fragments/
â”‚   â”‚   â”‚       â””â”€â”€ auth-navbar.html
â”‚   â”‚   â””â”€â”€ application.yml

recipe-service/
â”œâ”€â”€ src/main/
â”‚   â”œâ”€â”€ java/
â”‚   â”œâ”€â”€ resources/
â”‚   â”‚   â”œâ”€â”€ static/
â”‚   â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â”‚   â”œâ”€â”€ recipe-search.html
â”‚   â”‚   â”‚   â”œâ”€â”€ recipe-detail.html
â”‚   â”‚   â”‚   â””â”€â”€ fragments/
â”‚   â”‚   â”‚       â””â”€â”€ recipe-navbar.html
â”‚   â”‚   â””â”€â”€ application.yml

nutrition-service/
â”œâ”€â”€ src/main/
â”‚   â”œâ”€â”€ java/
â”‚   â”œâ”€â”€ resources/
â”‚   â”‚   â”œâ”€â”€ static/
â”‚   â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â”‚   â”œâ”€â”€ nutrition-search.html
â”‚   â”‚   â”‚   â”œâ”€â”€ nutrition-detail.html (ìš°ë¦¬ê°€ ë§Œë“  ê²ƒ)
â”‚   â”‚   â”‚   â””â”€â”€ fragments/
â”‚   â”‚   â”‚       â””â”€â”€ nutrition-navbar.html
â”‚   â”‚   â””â”€â”€ application.yml
```

### 2. **Kong ë¼ìš°íŒ… ì„¤ì •**

```yaml
Routes:
  # Auth Service (UI + API)
  - /auth/*           â†’ auth-service:8081
  - /login            â†’ auth-service:8081
  - /register         â†’ auth-service:8081
  - /api/auth/*       â†’ auth-service:8081

  # Recipe Service (UI + API)
  - /recipes/*        â†’ recipe-service:8082
  - /recipe-search    â†’ recipe-service:8082
  - /recipe-detail/*  â†’ recipe-service:8082
  - /api/recipes/*    â†’ recipe-service:8082

  # Nutrition Service (UI + API)
  - /nutrition/*      â†’ nutrition-service:8083
  - /nutrition-search â†’ nutrition-service:8083
  - /nutrition-detail/* â†’ nutrition-service:8083
  - /api/nutrition/*  â†’ nutrition-service:8083

  # í™ˆí˜ì´ì§€ëŠ” ë³„ë„ ì²˜ë¦¬ í•„ìš”
  - /                 â†’ auth-service:8081/home
```

### 3. **ê³µí†µ ë¦¬ì†ŒìŠ¤ ì²˜ë¦¬ ë°©ì•ˆ**

#### ì˜µì…˜ 1: ê° ì„œë¹„ìŠ¤ì— ë³µì‚¬

```yaml
# ê° ì„œë¹„ìŠ¤ì˜ static í´ë”ì— ë™ì¼í•œ íŒŒì¼ ë³µì‚¬
- bootstrap.min.css
- style.css
- common.js
```

#### ì˜µì…˜ 2: CDN ì‚¬ìš© (ê¶Œì¥)

```html
<!-- ê³µí†µ ë¦¬ì†ŒìŠ¤ëŠ” CDNìœ¼ë¡œ -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

<!-- ì„œë¹„ìŠ¤ë³„ ì»¤ìŠ¤í…€ CSS -->
<link href="/css/nutrition-custom.css" rel="stylesheet">
```

### 4. **ë„¤ë¹„ê²Œì´ì…˜ ë°” ì²˜ë¦¬**

```html
<!-- ê° ì„œë¹„ìŠ¤ì˜ navbar fragment -->
<nav th:fragment="navbar" class="navbar navbar-expand-xl">
    <a href="/" class="navbar-brand">EasyCook</a>
    <div class="navbar-nav">
        <!-- Kongì„ í†µí•œ ì„œë¹„ìŠ¤ ê°„ ì´ë™ -->
        <a href="/auth/home" class="nav-link">í™ˆ</a>
        <a href="/recipes/search" class="nav-link">ë ˆì‹œí”¼ ê²€ìƒ‰</a>
        <a href="/nutrition/search" class="nav-link">ì˜ì–‘ì •ë³´</a>
        <a href="/auth/mypage" class="nav-link">ë§ˆì´í˜ì´ì§€</a>
    </div>
</nav>
```

### 5. **ì„œë¹„ìŠ¤ ê°„ ì¸ì¦ ê³µìœ **

```java
// ê° ì„œë¹„ìŠ¤ì˜ WebSecurityConfig
@Configuration
public class WebSecurityConfig {
    
    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) {
        http
            .authorizeRequests()
                .antMatchers("/", "/search", "/detail/**").permitAll()
                .antMatchers("/api/public/**").permitAll()
                .anyRequest().authenticated()
            .and()
            .oauth2ResourceServer()
                .jwt()
                .jwtAuthenticationConverter(jwtAuthenticationConverter());
                
        return http.build();
    }
}
```

### 6. **Spring Boot ì„¤ì •**

```yaml
# application.yml (ê° ì„œë¹„ìŠ¤)
server:
  port: 8081  # ì„œë¹„ìŠ¤ë³„ë¡œ ë‹¤ë¥´ê²Œ

spring:
  thymeleaf:
    prefix: classpath:/templates/
    suffix: .html
    cache: false
    
  mvc:
    static-path-pattern: /static/**
    
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: http://auth-service:8081/auth
          
# Kong í†µì‹ ì„ ìœ„í•œ ì„¤ì •
app:
  services:
    auth-url: http://auth-service:8081
    recipe-url: http://recipe-service:8082
    nutrition-url: http://nutrition-service:8083
```

### 7. **Kubernetes ë°°í¬**

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nutrition-service
spec:
  replicas: 2
  template:
    spec:
      containers:
      - name: nutrition-service
        image: easycook/nutrition-service:latest
        ports:
        - containerPort: 8083
        env:
        - name: SPRING_PROFILES_ACTIVE
          value: "k8s"
---
apiVersion: v1
kind: Service
metadata:
  name: nutrition-service
spec:
  selector:
    app: nutrition-service
  ports:
  - port: 8083
    targetPort: 8083
```

### 8. **ì¥ë‹¨ì  ë¶„ì„**

#### ì¥ì :

- ê° íŒ€ì´ ë…ë¦½ì ìœ¼ë¡œ UI ê°œë°œ ê°€ëŠ¥
- ë°°í¬ê°€ ê°„ë‹¨í•¨
- ì„œë¹„ìŠ¤ë³„ UI ì»¤ìŠ¤í„°ë§ˆì´ì§• ìš©ì´

#### ë‹¨ì :

- ê³µí†µ ë¦¬ì†ŒìŠ¤ ì¤‘ë³µ
- UI ì¼ê´€ì„± ìœ ì§€ ì–´ë ¤ì›€
- ë²ˆë“¤ í¬ê¸° ì¦ê°€

### 9. **ê°œì„  ë°©ì•ˆ**

```yaml
Shared Library ë°©ì‹:
  - ê³µí†µ ì»´í¬ë„ŒíŠ¸ë¥¼ Maven/Gradle ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ê´€ë¦¬
  - ê° ì„œë¹„ìŠ¤ì—ì„œ dependencyë¡œ ì¶”ê°€
  
Template Inheritance:
  - Thymeleaf Layout Dialect ì‚¬ìš©
  - ê¸°ë³¸ ë ˆì´ì•„ì›ƒ í…œí”Œë¦¿ ê³µìœ 
  
Build Time Optimization:
  - ê³µí†µ ë¦¬ì†ŒìŠ¤ëŠ” Kong ë ˆë²¨ì—ì„œ ìºì‹±
  - ì„œë¹„ìŠ¤ë³„ ë¦¬ì†ŒìŠ¤ë§Œ ê° ì„œë¹„ìŠ¤ì—ì„œ ì œê³µ
```

ì´ ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•˜ë©´ ê° ì„œë¹„ìŠ¤ê°€ ìì²´ UIë¥¼ ê°€ì§€ë©´ì„œë„ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ì˜ ì¥ì ì„ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ì‘ì€ íŒ€ì´ë‚˜ ì´ˆê¸° ë‹¨ê³„ í”„ë¡œì íŠ¸ì— ì í•©í•©ë‹ˆë‹¤.


```
apiVersion: v1
kind: ConfigMap
metadata:
  name: easycook-config
  namespace: easycook
data:
  # Spring Profiles
  SPRING_PROFILES_ACTIVE: "prod"
  
  # JWT Settings
  JWT_SECRET: "your-production-256-bit-secret-key-for-jwt-token-generation-please-change-this-in-production"
  JWT_EXPIRATION: "86400000"
  
  # CORS Settings
  CORS_ALLOWED_ORIGINS: "http://frontend-service.easycook.svc.cluster.local:8080,https://your-domain.com"
  CORS_ALLOWED_METHODS: "GET,POST,PUT,DELETE,OPTIONS"
  CORS_ALLOWED_HEADERS: "*"
  
  # Service URLs (ë‚´ë¶€ ì„œë¹„ìŠ¤ í†µì‹ ìš©)
  USER_SERVICE_URL: "http://user-service.easycook.svc.cluster.local:8082"
  RECIPE_SERVICE_URL: "http://recipe-service.easycook.svc.cluster.local:8084"
  NUTRITION_SERVICE_URL: "http://nutrition-service.easycook.svc.cluster.local:8086"
  FRONTEND_SERVICE_URL: "http://frontend-service.easycook.svc.cluster.local:8080"
  
  # Frontend ì„¤ì • (ë¶ë§ˆí¬ URL ìƒì„±ìš©)
  APP_BASE_URL: "https://your-domain.com"  # ì‹¤ì œ ë„ë©”ì¸ìœ¼ë¡œ ë³€ê²½ í•„ìš”
  
  # Database Settings
  DB_URL: "jdbc:postgresql://postgres-service.easycook.svc.cluster.local:5432/easycook"
  DB_USERNAME: "easycook"
  
  # JPA Settings
  JPA_DDL_AUTO: "update"
  
  # External API URLs
  EXTERNAL_RECIPE_API_URL: "http://openapi.foodsafetykorea.go.kr/api"
  EXTERNAL_NUTRITION_API_URL: "http://openapi.foodsafetykorea.go.kr/api"
  
---
apiVersion: v1
kind: Secret
metadata:
  name: easycook-secrets
  namespace: easycook
type: Opaque
stringData:
  # Database Password
  DB_PASSWORD: "your-database-password"
  
  # External API Keys
  EXTERNAL_RECIPE_API_KEY: "your-recipe-api-key"
  EXTERNAL_NUTRITION_API_KEY: "your-nutrition-api-key"
```


# EasyCook ì„œë¹„ìŠ¤ ë¼ìš°íŒ… ì„¤ê³„

## ğŸ—ºï¸ ì„œë¹„ìŠ¤ ë§¤í•‘

| ì„œë¹„ìŠ¤                  | í¬íŠ¸   | ê²½ë¡œ                 | ë„ë©”ì¸                       |
| -------------------- | ---- | ------------------ | ------------------------- |
| **FrontendService**  | 8080 | `/`                | `easycook.dev.eris.go.kr` |
| **UserService**      | 8082 | `/api/user/*`      | `easycook.dev.eris.go.kr` |
| **RecipeService**    | 8084 | `/api/recipe/*`    | `easycook.dev.eris.go.kr` |
| **NutritionService** | 8086 | `/api/nutrition/*` | `easycook.dev.eris.go.kr` |

## ğŸ”„ íŠ¸ë˜í”½ í”Œë¡œìš°

```
ì‚¬ìš©ì ìš”ì²­
    â†“
NGINX Ingress Controller
    â†“
Kong Gateway (Optional)
    â†“
EasyCook ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë“¤
```

## ğŸ“‹ ë¼ìš°íŒ… ê·œì¹™

1. **ì›¹ UI**: `https://easycook.dev.eris.go.kr/` â†’ FrontendService
2. **ì‚¬ìš©ì API**: `https://easycook.dev.eris.go.kr/api/user/` â†’ UserService
3. **ë ˆì‹œí”¼ API**: `https://easycook.dev.eris.go.kr/api/recipe/` â†’ RecipeService
4. **ì˜ì–‘ì •ë³´ API**: `https://easycook.dev.eris.go.kr/api/nutrition/` â†’ NutritionService