##### 1. ArgoCD Rollouts 설치

##### 2. gitOps 레지스트리에 Rollout, Service yaml 파일 작성

##### 3. ArgoCD UI에서 동기화

##### 4. 카나리 배포 확인

배포 유형 검증

롤링 업데이트: maxSurge나 maxUnavailable을 조절해도 readinessProbe 등을 설정하지 않으면 롤링 업데이트 시 잠깐의 Connection refused 발생

Blue-Green 배포: 구버전에서 신버전으로 요청 이동 시, 잠깐의 시간 동안 500 에러 발생. Blue-Green 배포 특성상 해결 방법이 따로 없음

Canary 배포: Rollouts, Service yaml파일을 잘 작성하면 무중단 배포 구현 가능

```
apiVersion: argoproj.io/v1alpha1
kind: Rollout
metadata:
  name: app-fe
  namespace: test-dev
spec:
  replicas: 4
  selector:
    matchLabels:
      app: app-fe
  strategy:
    canary:
      maxSurge: 1
      maxUnavailable: 0
      steps:
        - setWeight: 20
        - pause: {}
        - setWeight: 40
        - pause: { duration: 20 }
        - setWeight: 60
        - pause: { duration: 20 }
        - setWeight: 80
        - pause: { duration: 20 }
  minReadySeconds: 30
```
